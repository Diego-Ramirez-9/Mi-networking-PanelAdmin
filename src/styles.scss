// =============================================================================
// ESTILOS GLOBALES PARA DASHBOARD
// =============================================================================
// Importar variables compartidas
@import 'app/shared/styles/variables';

// =============================================================================
// ESTILOS BÁSICOS GLOBALES
// =============================================================================
// Eliminar scrollbars innecesarios y arreglar el problema del scroll
html, body {
  overflow-x: hidden;
  margin: 0;
  padding: 0;
}

// =============================================================================
// ESTILOS PARA BOTONES DE PRIMENG (GLOBALES)
// =============================================================================
// Estos DEBEN ser globales porque se usan en múltiples componentes

.date-button,
.period-button {
  .p-button {
    background: transparent !important;
    border: 1px solid #D1D5DB !important;
    color: #374151 !important;
    border-radius: 6px !important;
    font-weight: 500 !important;
    padding: 0.5rem 0.75rem !important;
    font-size: 0.8125rem !important;

    &:hover {
      background: #F9FAFB !important;
      border-color: #9CA3AF !important;
    }

    @media (max-width: $mobile-breakpoint) {
      padding: 0.5rem 0.625rem !important;
      font-size: 0.75rem !important;
    }
  }
}

.chart-button {
  .p-button {
    background: $primary-dark !important;
    border-color: $primary-dark !important;
    color: white !important;
    border-radius: 6px !important;
    font-size: 0.75rem !important;
    padding: 0.375rem 0.625rem !important;
  }
}

.filter-button {
  .p-button {
    background: $primary-dark !important;
    border-color: $primary-dark !important;
    color: white !important;
    border-radius: 6px !important;
    font-size: 0.8125rem !important;
    padding: 0.5rem 0.75rem !important;

    @media (max-width: $mobile-breakpoint) {
      padding: 0.375rem 0.5rem !important;
      font-size: 0.6875rem !important;
      min-width: auto !important;
      width: auto !important;
      flex: 1 !important;
    }
  }
}

.add-button {
  .p-button {
    background: $primary-dark !important;
    border-color: $primary-dark !important;
    color: white !important;
    border-radius: 6px !important;
    font-size: 0.8125rem !important;
    padding: 0.5rem 0.75rem !important;

    @media (max-width: $mobile-breakpoint) {
      padding: 0.375rem 0.5rem !important;
      font-size: 0.6875rem !important;
      min-width: auto !important;
      width: auto !important;
      flex: 1 !important;
    }
  }
}

.export-button {
  .p-button {
    background: transparent !important;
    border-color: #D1D5DB !important;
    color: #374151 !important;
    border-radius: 6px !important;
    font-size: 0.8125rem !important;
    padding: 0.5rem 0.75rem !important;

    &:hover {
      background: #F9FAFB !important;
      border-color: #9CA3AF !important;
    }

    @media (max-width: $mobile-breakpoint) {
      padding: 0.375rem 0.5rem !important;
      font-size: 0.6875rem !important;
      min-width: auto !important;
      width: auto !important;
      flex: 1 !important;
      margin-top: 0 !important;
    }
  }
}

.action-button {
  .p-button {
    color: #6B7280 !important;
    padding: 0.375rem !important;

    &:hover {
      background: #F3F4F6 !important;
      color: #374151 !important;
    }
  }
}

// =============================================================================
// ESTILOS PARA EL OVERLAY PANEL - DEBE SER GLOBAL
// =============================================================================
// CRÍTICO: Estos estilos DEBEN ser globales porque el overlay panel
// se renderiza en el body cuando usa appendTo="body"

.p-overlaypanel.user-actions-menu {
  z-index: 9999 !important;

  .p-overlaypanel-content {
    padding: 0 !important;
    border-radius: 12px !important;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15) !important;
    border: 1px solid #E5E7EB !important;
    min-width: 220px !important;
    background: white !important;
    overflow: hidden !important;
  }

  &.mobile-menu .p-overlaypanel-content {
    min-width: 240px !important;
  }

  .actions-menu-header {
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    padding: 0.875rem 1rem !important;
    border-bottom: 1px solid #F3F4F6 !important;
    background: #F9FAFB !important;
    margin: 0 !important;

    .menu-title {
      font-size: 0.8125rem !important;
      font-weight: 600 !important;
      color: #374151 !important;
      max-width: 160px !important;
      overflow: hidden !important;
      text-overflow: ellipsis !important;
      white-space: nowrap !important;
      margin: 0 !important;
      padding-right: 12.5rem !important;
    }

    .close-btn {
      background: none !important;
      border: none !important;
      color: #6B7280 !important;
      cursor: pointer !important;
      padding: 0.25rem !important;
      border-radius: 4px !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      transition: all 0.2s ease !important;
      width: 24px !important;
      height: 24px !important;

      &:hover {
        background: #E5E7EB !important;
        color: #374151 !important;
      }

      i {
        font-size: 0.75rem !important;
      }
    }
  }

  .actions-menu-content {
    padding: 0.5rem !important;
    margin: 0 !important;

    .action-item {
      display: flex !important;
      align-items: center !important;
      gap: 0.75rem !important;
      width: 100% !important;
      padding: 0.75rem 1.875rem !important;
      border: none !important;
      background: none !important;
      border-radius: 8px !important;
      cursor: pointer !important;
      transition: all 0.2s ease !important;
      font-size: 0.8125rem !important;
      font-weight: 500 !important;
      text-align: left !important;
      margin-bottom: 0.25rem !important;
      font-family: inherit !important;

      &:last-child {
        margin-bottom: 0 !important;
      }

      i {
        font-size: 0.875rem !important;
        width: 16px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        flex-shrink: 0 !important;
      }

      span {
        flex: 1 !important;
        text-align: left !important;
      }

      &.update-action {
        color: #0F766E !important;
        &:hover {
          background: #F0FDFA !important;
          color: #0D9488 !important;
        }
        i { color: #14B8A6 !important; }
      }

      &.delete-action {
        color: #DC2626 !important;
        &:hover {
          background: #FEF2F2 !important;
          color: #EF4444 !important;
        }
        i { color: #F87171 !important; }
      }

      &.view-action {
        color: $primary-dark !important;
        &:hover {
          background: #F8FAFC !important;
          color: $primary-medium !important;
        }
        i { color: $primary-medium !important; }
      }

      &.deactivate-action {
        color: #D97706 !important;
        &:hover {
          background: #FFFBEB !important;
          color: #F59E0B !important;
        }
        i { color: #FBBF24 !important; }
      }
    }
  }
}

// Compatibilidad con diferentes versiones de PrimeNG
.p-overlaypanel[data-pc-name="overlaypanel"].user-actions-menu {
  z-index: 9999 !important;

  .p-overlaypanel-content {
    padding: 0 !important;
    border-radius: 12px !important;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15) !important;
    border: 1px solid #E5E7EB !important;
    min-width: 220px !important;
    background: white !important;
    overflow: hidden !important;
  }
}

// =============================================================================
// ENHANCED RESPONSIVE ADJUSTMENTS
// =============================================================================

// Dashboard container adjustments
.dashboard-container {
  transition: margin-left 0.3s ease;

  @media (max-width: $mobile-breakpoint) {
    padding: 0.5rem;

    &.sidebar-open {
      margin-left: 0;
    }
  }
}

// Asegurar que el contenido principal pueda hacer scroll
.dashboard-container {
  position: relative;
  overflow-y: auto;
  overflow-x: hidden;
}
